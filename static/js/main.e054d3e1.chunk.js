(this.webpackJsonplogin_fe=this.webpackJsonplogin_fe||[]).push([[0],{130:function(e,t){},132:function(e,t){},143:function(e,t){},145:function(e,t){},17:function(e,t,r){"use strict";(function(e){var s=[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+(+(!+[]+!+[]+!+[]+[!+[]+!+[]]))[(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([]+[])[([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!1+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!0+[])[+!+[]]][([][[]]+[])[+!+[]]+(!1+[])[+!+[]]+((+[])[([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!1+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!0+[])[+!+[]]]+[])[+!+[]+[+!+[]]]+(!0+[])[!+[]+!+[]+!+[]]]](!+[]+!+[]+!+[]+[!+[]+!+[]+!+[]])+([!1]+[][[]])[+!+[]+[+[]]]+(!1+[])[!+[]+!+[]+!+[]]+(+(+!+[]+[+[]]+[+!+[]]))[(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([]+[])[([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!1+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!0+[])[+!+[]]][([][[]]+[])[+!+[]]+(!1+[])[+!+[]]+((+[])[([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+([][[]]+[])[+!+[]]+(!1+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[])[+!+[]]+([][[]]+[])[+[]]+([][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]]+[])[!+[]+!+[]+!+[]]+(!0+[])[+[]]+(!0+[][(!1+[])[+[]]+(!1+[])[!+[]+!+[]]+(!1+[])[+!+[]]+(!0+[])[+[]]])[+!+[]+[+[]]]+(!0+[])[+!+[]]]+[])[+!+[]+[+!+[]]]+(!0+[])[!+[]+!+[]+!+[]]]](!+[]+!+[]+[+!+[]])[+!+[]]+(!1+[])[+[]]+([][[]]+[])[+!+[]]+(!1+[])[+!+[]]+[!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]+!+[]]+(!0+[])[!+[]+!+[]+!+[]]+(+[!1]+[+(+!+[]+(!+[]+[])[!+[]+!+[]+!+[]]+[+!+[]]+[+[]]+[+[]]+[+[]])])[+!+[]+[+[]]],a=r(127),n={};n.encrypt=function(t){return function(t){return e.from(t).toString("base64")}(a.encrypt(s,t))},n.decrypt=function(t){return a.decrypt(s,(r=t,e.from(r,"base64").toString("ascii")));var r},n.jwt_encode=function(e){var t={};return t.data=e,t.timestamp=new Date(Date.now()+6048e5).getTime(),t=JSON.stringify(t),t=n.encrypt(t)},n.jwt_decode=function(e){return e=n.decrypt(e),e=JSON.parse(e),parseInt(e.timestamp)>=Date.now()?JSON.parse(e.data):0},t.a=n}).call(this,r(6).Buffer)},172:function(e,t){},174:function(e,t){},175:function(e,t){},180:function(e,t){},182:function(e,t){},201:function(e,t){},213:function(e,t){},216:function(e,t){},220:function(e,t,r){},225:function(e,t,r){"use strict";r.r(t);var s=r(1),a=r.n(s),n=r(115),c=r.n(n),o=r(117),l=r(4),i=r(13),d=r(0);var u=function(e){return Object(d.jsx)("button",{className:"button "+e.className,onClick:e.onClick,children:e.children})},h=r(17),b={save:function(e,t){0===b.get(e)&&localStorage.setItem("data",h.a.encrypt("{}"));var r=h.a.decrypt(localStorage.getItem("data"));return(r=JSON.parse(r))[e]=t,r=JSON.stringify(r),r=h.a.encrypt(r),localStorage.setItem("data",r),1},get:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(localStorage.getItem("data")){var t=h.a.decrypt(localStorage.getItem("data"));return t=JSON.parse(t),""!==e&&t[e]?t[e]:2}return 0},save_auth:function(e){var t=h.a.jwt_encode(JSON.stringify(e));b.save("__auth",t)},get_auth:function(){var e=b.get("__auth");return 0===e||2===e?0:e=h.a.jwt_decode(e)}},g=b;var j=function(e){window.location.hash="#/"+e},p={create:function(){var e=document.body.querySelector(".snackbar");return e||((e=document.createElement("div")).classList.add("snackbar"),e.classList.add("hide"),document.body.append(e),e)},show:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,r=p.create();r.innerHTML=e,r.classList.remove("hide"),setTimeout((function(){p.hide()}),t)},hide:function(){p.create().classList.add("hide")}},m=p;var f=function(e){var t=Object(s.useState)(null),r=Object(i.a)(t,2),a=r[0],n=r[1];return Object(s.useEffect)((function(){if(!0===g.get("logged")){var e=g.get_auth(),t=e.username,r=e.email;function s(e){g.save("logged",!1),g.save_auth({}),e.currentTarget.classList.add("process_loader"),j("login"),m.show("User logged out!")}n((function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"content",children:[Object(d.jsxs)("p",{className:"title",children:["Hi ,",Object(d.jsx)("b",{children:t})]}),Object(d.jsx)("p",{className:"body1",children:"This is a college project created by Pratyush"}),Object(d.jsx)("p",{className:"body2",children:"Hope You Liked It!"}),Object(d.jsxs)("p",{className:"meta",children:["User Email = ",r]}),Object(d.jsx)(u,{className:"logout",onClick:s,children:"Logout"})]}),Object(d.jsx)("div",{className:"background",children:Object(d.jsx)("div",{className:"bg"})})]})}))}else j("login"),m.show("Please login to continue!")}),[e]),Object(d.jsx)("div",{className:"home",children:a})};var v=function(e){return Object(d.jsxs)("div",{className:"input",children:[Object(d.jsxs)("label",{htmlFor:e.id,children:[e.label,e.forgot]}),Object(d.jsx)("input",{id:e.id,autoFocus:e.af,type:e.type,placeholder:e.placeholder,onKeyUp:function(t){13===t.which&&document.querySelector(e.enter).click()}}),Object(d.jsx)("p",{className:"error",children:e.error})]})},O=r(62),x=r.n(O),w=r(116);function y(){return(y=Object(w.a)(x.a.mark((function e(t,r){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,s){var a=h.a.encrypt(JSON.stringify(r)),n=new FormData;n.append("data",a),fetch("https://stark-savannah-00167.herokuapp.com/"+t,{method:"POST",body:n}).then((function(t){t.json().then((function(t){e(t)})).catch((function(e){return s(e)}))})).catch((function(e){return s(e)}))}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=function(e,t){return y.apply(this,arguments)};var N=function(e){var t=Object(s.useState)(["",""]),r=Object(i.a)(t,2),a=r[0],n=r[1],c=Object(s.useState)(null),o=Object(i.a)(c,2),l=o[0],h=o[1];return Object(s.useEffect)((function(){if(2===g.get("logged")||0===g.get("logged")){function e(e){var t=e.currentTarget,r=t.parentElement,s=r.querySelector(".input #username"),a=r.querySelector(".input #password");""!==s.value.replace(" ","")?""!==a.value.replace(" ","")?(s.disabled=a.disabled=!0,t.classList.add("process_loading"),n(["",""]),_("login",{username:s.value,password:a.value}).then((function(e){0===e?(s.disabled=a.disabled=!1,t.classList.remove("process_loading"),a.focus(),m.show("Please recheck your password!")):2===e?(s.disabled=a.disabled=!1,t.classList.remove("process_loading"),s.focus(),m.show('Username not found, <a href="#/register">Register Now!</a>')):e.error?(s.disabled=a.disabled=!1,t.classList.remove("process_loading"),m.show("Some error occurred, please try after sometime!")):(g.save("logged",!0),g.save_auth(e),j(""))})).catch((function(e){console.log(e),s.disabled=a.disabled=!1,t.classList.remove("process_loading"),m.show("Some error occurred, please try after sometime!")}))):(n(["","Please Recheck Your Password"]),a.focus()):(n(["Please Recheck Your Username",""]),s.focus())}h((function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"content",children:[Object(d.jsx)("h1",{children:"Login"}),Object(d.jsx)(v,{type:"text",af:!0,id:"username",label:"Username",placeholder:"E.g. John Doe",error:a[0],enter:".login .content .login_btn"}),Object(d.jsx)(v,{type:"password",id:"password",label:"Password",placeholder:"E.g. 1234",error:a[1],enter:".login .content .login_btn",forgot:Object(d.jsx)("a",{className:"reset-pass",href:"#/forgot",children:"Forgot Password?"})}),Object(d.jsx)(u,{className:"login_btn",onClick:e,children:"Login"}),Object(d.jsxs)("p",{className:"register_now",children:["Don't have an account? ",Object(d.jsx)("a",{href:"#/register",children:"Register Now!"})]})]}),Object(d.jsxs)("div",{className:"background",children:[Object(d.jsx)("div",{className:"bg"}),Object(d.jsx)("div",{className:"attribution",children:Object(d.jsxs)("span",{children:["Photo by ",Object(d.jsx)("a",{href:"https://unsplash.com/@24ameer?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText",target:"_blank",rel:"noreferrer",children:"Ameer Basheer"})," on ",Object(d.jsx)("a",{href:"https://unsplash.com/t/nature?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText",target:"_blank",rel:"noreferrer",children:"Unsplash"})]})})]})]})}))}else j(""),m.show("User is already logged in!")}),[e,a]),Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"login",children:l})})};var S=function(e){var t=Object(s.useState)(["","","",""]),r=Object(i.a)(t,2),a=r[0],n=r[1],c=Object(s.useState)(null),o=Object(i.a)(c,2),l=o[0],h=o[1];return Object(s.useEffect)((function(){if(2===g.get("logged")||0===g.get("logged")){function e(e){var t,r,s=e.currentTarget,a=s.parentElement,c=a.querySelector("#username"),o=a.querySelector("#email"),l=a.querySelector("#pwd"),i=a.querySelector("#cpwd");""!==c.value.replace(" ","")?!function(e){return!!e.match(/[\w\W]*@[\w]*[.]+[\w]{2,4}/gi)}(o.value)?(o.focus(),n(["","Please enter a valid email","",""])):""===l.value.replace(" ","")?(l.focus(),n(["","","Please enter a valid password!",""])):l.value.length<10?(l.focus(),n(["","","Password needs to be >= 10",""])):(t=l.value,r=i.value,(t=t.replace(" ",""))===(r=r.replace(" ",""))?(n(["","","",""]),c.disabled=o.disabled=l.disabled=i.disabled=!0,s.classList.add("process_loading"),_("register",{username:c.value,email:o.value,password:l.value}).then((function(e){e.error?(c.disabled=o.disabled=l.disabled=i.disabled=!1,s.classList.remove("process_loading"),1062===e.error.code?c.focus():1063===e.error.code?o.focus():1064===e.error.code&&l.focus(),m.show(e.error.msg)):1===e&&(j("login"),m.show("Registration Done, Login to continue"))})).catch((function(){c.disabled=o.disabled=l.disabled=i.disabled=!1,s.classList.remove("process_loading"),m.show("Some error occurred, please try after sometime!")}))):(i.focus(),n(["","","","Please recheck you passwords!"]))):(c.focus(),n(["Please enter a valid username","","",""]))}h((function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"background",children:[Object(d.jsx)("div",{className:"bg"}),Object(d.jsx)("div",{className:"attribution",children:Object(d.jsxs)("span",{children:["Photo by ",Object(d.jsx)("a",{href:"https://unsplash.com/@turner_imagery?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText",target:"_blank",rel:"noreferrer",children:"Will Turner"})," on ",Object(d.jsx)("a",{href:"https://unsplash.com/t/nature?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText",target:"_blank",rel:"noreferrer",children:"Unsplash"})]})})]}),Object(d.jsxs)("div",{className:"content",children:[Object(d.jsx)("h1",{children:"Register"}),Object(d.jsx)(v,{type:"text",af:!0,label:"Username",id:"username",placeholder:"E.g. John Doe",error:a[0],enter:".register .register_btn"}),Object(d.jsx)(v,{type:"email",label:"Email",id:"email",placeholder:"E.g. john@doe.com",error:a[1],enter:".register .register_btn"}),Object(d.jsx)(v,{type:"password",label:"Password",id:"pwd",placeholder:"E.g. 1234",error:a[2],enter:".register .register_btn"}),Object(d.jsx)(v,{type:"password",label:"Confirm Password",id:"cpwd",placeholder:"E.g. 1234",error:a[3],enter:".register .register_btn"}),Object(d.jsx)(u,{className:"register_btn",onClick:e,children:"Register"}),Object(d.jsxs)("p",{className:"login_now",children:["Already have a account? ",Object(d.jsx)("a",{href:"#/login",children:"Login"})]})]})]})}))}else j(""),m.show("User is already logged in!")}),[e,a]),Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"register",children:l})})},P=1;var k=function(e){var t=Object(s.useState)(null),r=Object(i.a)(t,2),a=r[0],n=r[1],c=Object(s.useState)("Send OTP"),o=Object(i.a)(c,2),l=o[0],h=o[1],b=Object(s.useState)(null),p=Object(i.a)(b,2),f=p[0],O=p[1];return Object(s.useEffect)((function(){if(2===g.get("logged")||0===g.get("logged")){function e(e){m.hide();var t=e.currentTarget,r=t.parentElement,s=r.querySelector("#username");if(1===P){if(""===s.value.replace(" ",""))return m.show("Enter a valid username!"),void s.focus();s.disabled=!0,t.classList.add("process_loading"),_("forgot",{username:s.value}).then((function(e){t.classList.remove("process_loading"),e.error?(s.disabled=!1,1070===e.error.msg?(s.focus(),m.show("Username not found!")):m.show(e.error.msg)):1===e&&(O((function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(v,{type:"text",id:"otp",label:"Enter OTP",placeholder:"E.g. 123456",enter:".forgot .content .send_otp"}),Object(d.jsx)(v,{type:"password",id:"pwd",label:"Enter New Password",placeholder:"E.g. test12345",enter:".forgot .content .send_otp"})]})})),m.show("OTP sent to email!"),h("Reset Password"),P=2)})).catch((function(){s.disabled=!1,t.classList.remove("process_loading"),m.show("Some error occurred, please try again later!")}))}else if(2===P){var a=r.querySelector("#otp"),n=r.querySelector("#pwd");if(a.value.length<6||""===a.value.replace(" ",""))return m.show("Please enter a valid otp!"),void a.focus();""!==n.value.replace(" ","")&&n.value.length>9?(t.classList.add("process_loading"),a.disabled=n.disabled=!0,_("reset",{username:s.value,new_pass:n.value,otp:a.value}).then((function(e){t.classList.remove("process_loading"),e.error?(a.disabled=n.disabled=!1,1069===e.error.msg?(a.focus(),m.show("Please recheck your otp!")):m.show(e.error.msg)):1===e&&(P=1,m.show("Password reset successfully! Login to continue"),j("login"))})).catch((function(){s.disabled=n.disabled=a.disabled=!1,t.classList.remove("process_loading"),m.show("Some error occurred, please try again later!")}))):(m.show("Please enter a valid password!"),n.focus())}}n((function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"content",children:[Object(d.jsx)("h1",{children:"Reset Password"}),Object(d.jsx)(v,{type:"text",af:!0,id:"username",label:"Enter Username",placeholder:"E.g. JohnDoe",enter:".forgot .content .send_otp"}),f,Object(d.jsx)(u,{className:"send_otp",onClick:e,children:l})]})})}))}else j(""),m.show("User is already logged in!")}),[e,l,f]),Object(d.jsx)("div",{className:"forgot",children:a})};r(220);var L=function(){return Object(d.jsx)(o.a,{children:Object(d.jsxs)(l.c,{children:[Object(d.jsx)(l.a,{path:"/",exact:!0,component:f}),Object(d.jsx)(l.a,{path:"/register",exact:!0,component:S}),Object(d.jsx)(l.a,{path:"/login",exact:!0,component:N}),Object(d.jsx)(l.a,{path:"/forgot",exact:!0,component:k})]})})};c.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(L,{})}),document.getElementById("root"))}},[[225,1,2]]]);
//# sourceMappingURL=main.e054d3e1.chunk.js.map